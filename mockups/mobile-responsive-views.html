<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Squiddles - Mobile Interface</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 100%);
            color: #ffffff;
            height: 100vh;
            overflow: hidden;
        }

        .mobile-container {
            max-width: 400px;
            margin: 0 auto;
            height: 100vh;
            background: linear-gradient(135deg, #0f0f0f 0%, #1a1a1a 50%, #0f0f0f 100%);
            position: relative;
            overflow: hidden;
            border: 2px solid rgba(255, 255, 255, 0.1);
        }

        /* Mobile Header */
        .mobile-header {
            background: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(20px);
            padding: 12px 16px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .mobile-logo {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .mobile-logo img {
            width: 24px;
            height: 24px;
        }

        .mobile-logo-text {
            font-weight: 700;
            font-size: 16px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .mobile-status {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 12px;
        }

        .mobile-status-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: linear-gradient(135deg, #00f5ff 0%, #00d4aa 100%);
            animation: pulse 2s infinite;
        }

        .hamburger-menu {
            cursor: pointer;
            padding: 4px;
        }

        /* Main Content Area */
        .mobile-main {
            height: calc(100vh - 60px - 100px); /* Header + Bottom nav */
            overflow-y: auto;
            padding: 16px;
        }

        /* Voice Interface Section */
        .voice-section {
            text-align: center;
            margin-bottom: 24px;
        }

        .voice-prompt {
            background: linear-gradient(135deg, rgba(26, 26, 26, 0.8), rgba(42, 42, 42, 0.8));
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 24px 16px;
            margin-bottom: 20px;
        }

        .voice-icon {
            font-size: 40px;
            margin-bottom: 12px;
            background: linear-gradient(135deg, #00f5ff 0%, #667eea 100%);
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .voice-status {
            font-size: 16px;
            color: #ffffff;
            margin-bottom: 8px;
            font-weight: 500;
        }

        .voice-suggestion {
            font-size: 12px;
            color: #888888;
            line-height: 1.4;
        }

        /* Mobile Voice Button */
        .mobile-voice-button {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: linear-gradient(135deg, #00f5ff 0%, #667eea 100%);
            border: none;
            color: white;
            font-size: 28px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 8px 32px rgba(0, 245, 255, 0.3);
            margin: 0 auto;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .mobile-voice-button:active {
            transform: scale(0.95);
            box-shadow: 0 4px 16px rgba(0, 245, 255, 0.5);
        }

        .mobile-voice-button.listening {
            background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
            animation: pulse-red 1s infinite;
        }

        @keyframes pulse-red {
            0% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.7); }
            70% { box-shadow: 0 0 0 20px rgba(239, 68, 68, 0); }
            100% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0); }
        }

        /* Quick Actions */
        .quick-actions {
            margin: 24px 0;
        }

        .section-title {
            font-size: 14px;
            font-weight: 600;
            color: #ffffff;
            margin-bottom: 12px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .action-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
        }

        .action-card {
            background: linear-gradient(135deg, rgba(26, 26, 26, 0.8), rgba(35, 35, 35, 0.8));
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 16px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .action-card:active {
            transform: scale(0.95);
            background: linear-gradient(135deg, rgba(35, 35, 35, 0.9), rgba(45, 45, 45, 0.9));
        }

        .action-icon {
            font-size: 24px;
            margin-bottom: 8px;
            display: block;
        }

        .action-label {
            font-size: 12px;
            color: #cccccc;
            font-weight: 500;
        }

        /* Recent Activity */
        .recent-activity {
            margin: 24px 0;
        }

        .activity-item {
            background: linear-gradient(135deg, rgba(26, 26, 26, 0.6), rgba(35, 35, 35, 0.6));
            border: 1px solid rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            padding: 12px;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .activity-icon {
            width: 32px;
            height: 32px;
            border-radius: 8px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            flex-shrink: 0;
        }

        .activity-content {
            flex: 1;
        }

        .activity-title {
            font-size: 13px;
            color: #ffffff;
            margin-bottom: 2px;
        }

        .activity-meta {
            font-size: 11px;
            color: #888888;
        }

        /* Bottom Navigation */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 100%;
            max-width: 400px;
            background: rgba(0, 0, 0, 0.95);
            backdrop-filter: blur(20px);
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            padding: 12px 0 20px 0; /* Extra bottom padding for iOS safe area */
            display: flex;
            justify-content: space-around;
            align-items: center;
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 4px;
            cursor: pointer;
            padding: 8px 12px;
            border-radius: 8px;
            transition: all 0.3s ease;
            min-width: 60px;
        }

        .nav-item:active {
            background: rgba(102, 126, 234, 0.2);
        }

        .nav-item.active {
            color: #667eea;
        }

        .nav-icon {
            font-size: 20px;
        }

        .nav-label {
            font-size: 10px;
            font-weight: 500;
        }

        /* Modal Overlay for Menu */
        .mobile-menu-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
            z-index: 200;
            display: none;
        }

        .mobile-menu {
            position: fixed;
            top: 60px;
            right: 16px;
            background: linear-gradient(135deg, rgba(26, 26, 26, 0.95), rgba(35, 35, 35, 0.95));
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 16px 0;
            min-width: 200px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
        }

        .menu-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 16px;
            cursor: pointer;
            transition: background 0.2s ease;
        }

        .menu-item:hover {
            background: rgba(102, 126, 234, 0.1);
        }

        .menu-item-icon {
            font-size: 16px;
            width: 20px;
        }

        .menu-item-text {
            font-size: 14px;
            color: #ffffff;
        }

        /* Transcript View */
        .mobile-transcript {
            display: none;
            height: calc(100vh - 60px - 100px);
            overflow-y: auto;
            padding: 16px;
        }

        .transcript-item {
            background: linear-gradient(135deg, rgba(26, 26, 26, 0.6), rgba(35, 35, 35, 0.6));
            border: 1px solid rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 12px;
        }

        .transcript-header {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 8px;
        }

        .transcript-role {
            font-size: 12px;
            font-weight: 600;
            text-transform: uppercase;
        }

        .transcript-time {
            font-size: 11px;
            color: #888;
            margin-left: auto;
        }

        .transcript-content {
            font-size: 14px;
            line-height: 1.4;
            color: #ffffff;
        }

        .user-message {
            border-left: 3px solid #667eea;
        }

        .assistant-message {
            border-left: 3px solid #00f5ff;
        }

        /* Responsive adjustments */
        @media (max-width: 360px) {
            .mobile-main {
                padding: 12px;
            }
            
            .action-grid {
                grid-template-columns: 1fr;
                gap: 8px;
            }
            
            .mobile-voice-button {
                width: 70px;
                height: 70px;
                font-size: 24px;
            }
        }

        /* Custom scrollbar for mobile */
        ::-webkit-scrollbar {
            width: 4px;
        }

        ::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.05);
        }

        ::-webkit-scrollbar-thumb {
            background: linear-gradient(135deg, #667eea, #764ba2);
            border-radius: 2px;
        }
    </style>
</head>
<body>
    <div class="mobile-container">
        <!-- Mobile Header -->
        <div class="mobile-header">
            <div class="mobile-logo">
                <img src="../squiddles_logo_nobg.png" alt="Squiddles">
                <span class="mobile-logo-text">Squiddles</span>
            </div>
            <div class="mobile-status">
                <div class="mobile-status-dot"></div>
                <span>Connected</span>
            </div>
            <div class="hamburger-menu" onclick="toggleMenu()">
                <div style="font-size: 20px;">☰</div>
            </div>
        </div>

        <!-- Main Content -->
        <div class="mobile-main" id="mainContent">
            <!-- Voice Interface -->
            <div class="voice-section">
                <div class="voice-prompt">
                    <div class="voice-icon">🎙️</div>
                    <div class="voice-status">Ready to help</div>
                    <div class="voice-suggestion">Tap and speak to create user stories, check tickets, or get updates</div>
                </div>
                
                <button class="mobile-voice-button" id="voiceButton" ontouchstart="startVoice()" ontouchend="stopVoice()">
                    🎤
                </button>
            </div>

            <!-- Quick Actions -->
            <div class="quick-actions">
                <div class="section-title">Quick Actions</div>
                <div class="action-grid">
                    <div class="action-card" onclick="quickAction('story')">
                        <span class="action-icon">📝</span>
                        <span class="action-label">Create Story</span>
                    </div>
                    <div class="action-card" onclick="quickAction('tickets')">
                        <span class="action-icon">🎫</span>
                        <span class="action-label">My Tickets</span>
                    </div>
                    <div class="action-card" onclick="quickAction('mentions')">
                        <span class="action-icon">💬</span>
                        <span class="action-label">Mentions</span>
                    </div>
                    <div class="action-card" onclick="quickAction('search')">
                        <span class="action-icon">🔍</span>
                        <span class="action-label">Search</span>
                    </div>
                </div>
            </div>

            <!-- Recent Activity -->
            <div class="recent-activity">
                <div class="section-title">Recent Activity</div>
                <div class="activity-item">
                    <div class="activity-icon">📝</div>
                    <div class="activity-content">
                        <div class="activity-title">Created "Checkout Flow Enhancement"</div>
                        <div class="activity-meta">2 minutes ago • PROD-9728</div>
                    </div>
                </div>
                <div class="activity-item">
                    <div class="activity-icon">💬</div>
                    <div class="activity-content">
                        <div class="activity-title">New mention in PROD-9727</div>
                        <div class="activity-meta">5 minutes ago • Jane Smith</div>
                    </div>
                </div>
                <div class="activity-item">
                    <div class="activity-icon">🔄</div>
                    <div class="activity-content">
                        <div class="activity-title">Synced 23 tickets from Jira</div>
                        <div class="activity-meta">1 hour ago • Background sync</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Transcript View (Hidden by default) -->
        <div class="mobile-transcript" id="transcriptContent">
            <div class="transcript-item user-message">
                <div class="transcript-header">
                    <span class="transcript-role">👤 You</span>
                    <span class="transcript-time">2:47 PM</span>
                </div>
                <div class="transcript-content">
                    "I need to write a user story for improving our checkout flow"
                </div>
            </div>
            <div class="transcript-item assistant-message">
                <div class="transcript-header">
                    <span class="transcript-role">🤖 Assistant</span>
                    <span class="transcript-time">2:47 PM</span>
                </div>
                <div class="transcript-content">
                    I'll help you create a user story for checkout flow improvement. Let me search for related tickets and start filling out your template...
                </div>
            </div>
            <div class="transcript-item assistant-message">
                <div class="transcript-header">
                    <span class="transcript-role">🎫 Jira Agent</span>
                    <span class="transcript-time">2:48 PM</span>
                </div>
                <div class="transcript-content">
                    I found 3 related tickets about checkout improvements. Creating new story PROD-9728 with your requirements...
                </div>
            </div>
        </div>

        <!-- Bottom Navigation -->
        <div class="bottom-nav">
            <div class="nav-item active" onclick="showView('home')">
                <div class="nav-icon">🏠</div>
                <div class="nav-label">Home</div>
            </div>
            <div class="nav-item" onclick="showView('transcript')">
                <div class="nav-icon">💬</div>
                <div class="nav-label">Chat</div>
            </div>
            <div class="nav-item" onclick="showView('tickets')">
                <div class="nav-icon">🎫</div>
                <div class="nav-label">Tickets</div>
            </div>
            <div class="nav-item" onclick="showView('settings')">
                <div class="nav-icon">⚙️</div>
                <div class="nav-label">Settings</div>
            </div>
        </div>

        <!-- Mobile Menu Overlay -->
        <div class="mobile-menu-overlay" id="menuOverlay" onclick="hideMenu()">
            <div class="mobile-menu" onclick="event.stopPropagation()">
                <div class="menu-item" onclick="showView('profile')">
                    <span class="menu-item-icon">👤</span>
                    <span class="menu-item-text">Profile</span>
                </div>
                <div class="menu-item" onclick="showView('integrations')">
                    <span class="menu-item-icon">🔗</span>
                    <span class="menu-item-text">Integrations</span>
                </div>
                <div class="menu-item" onclick="showView('help')">
                    <span class="menu-item-icon">❓</span>
                    <span class="menu-item-text">Help & Support</span>
                </div>
                <div class="menu-item" onclick="showView('feedback')">
                    <span class="menu-item-icon">📝</span>
                    <span class="menu-item-text">Send Feedback</span>
                </div>
                <div class="menu-item" onclick="logout()">
                    <span class="menu-item-icon">🚪</span>
                    <span class="menu-item-text">Sign Out</span>
                </div>
            </div>
        </div>
    </div>

    <script>
        let isListening = false;

        function toggleMenu() {
            const overlay = document.getElementById('menuOverlay');
            overlay.style.display = overlay.style.display === 'block' ? 'none' : 'block';
        }

        function hideMenu() {
            document.getElementById('menuOverlay').style.display = 'none';
        }

        function startVoice() {
            if (!isListening) {
                isListening = true;
                const button = document.getElementById('voiceButton');
                button.classList.add('listening');
                button.innerHTML = '🔴';
                
                // Update voice prompt
                const status = document.querySelector('.voice-status');
                const suggestion = document.querySelector('.voice-suggestion');
                status.textContent = 'Listening...';
                suggestion.textContent = 'Speak now or release to cancel';
                
                // Haptic feedback simulation
                if (navigator.vibrate) {
                    navigator.vibrate(50);
                }
            }
        }

        function stopVoice() {
            if (isListening) {
                isListening = false;
                const button = document.getElementById('voiceButton');
                button.classList.remove('listening');
                button.innerHTML = '🎤';
                
                // Update voice prompt
                const status = document.querySelector('.voice-status');
                const suggestion = document.querySelector('.voice-suggestion');
                status.textContent = 'Processing...';
                suggestion.textContent = 'Converting speech to text...';
                
                // Simulate processing
                setTimeout(() => {
                    status.textContent = 'Ready to help';
                    suggestion.textContent = 'Tap and speak to create user stories, check tickets, or get updates';
                }, 2000);
                
                // Haptic feedback
                if (navigator.vibrate) {
                    navigator.vibrate([50, 100, 50]);
                }
            }
        }

        function showView(viewName) {
            // Update navigation
            document.querySelectorAll('.nav-item').forEach(item => item.classList.remove('active'));
            event.currentTarget.classList.add('active');
            
            // Show appropriate content
            const mainContent = document.getElementById('mainContent');
            const transcriptContent = document.getElementById('transcriptContent');
            
            if (viewName === 'transcript') {
                mainContent.style.display = 'none';
                transcriptContent.style.display = 'block';
            } else {
                mainContent.style.display = 'block';
                transcriptContent.style.display = 'none';
            }
            
            // Hide menu
            hideMenu();
            
            // Haptic feedback
            if (navigator.vibrate) {
                navigator.vibrate(30);
            }
        }

        function quickAction(action) {
            // Haptic feedback
            if (navigator.vibrate) {
                navigator.vibrate(50);
            }
            
            // Visual feedback
            event.currentTarget.style.transform = 'scale(0.95)';
            setTimeout(() => {
                event.currentTarget.style.transform = 'scale(1)';
            }, 150);
            
            // Handle action
            switch(action) {
                case 'story':
                    alert('Voice mode: "Create a new user story"');
                    break;
                case 'tickets':
                    alert('Showing your assigned tickets...');
                    break;
                case 'mentions':
                    alert('Checking for new mentions...');
                    break;
                case 'search':
                    alert('Voice search ready. Speak your query.');
                    break;
            }
        }

        function logout() {
            if (confirm('Are you sure you want to sign out?')) {
                alert('Signing out...');
            }
            hideMenu();
        }

        // Prevent default touch behaviors for better mobile experience
        document.addEventListener('touchstart', function(e) {
            if (e.target.classList.contains('mobile-voice-button')) {
                e.preventDefault();
            }
        }, { passive: false });

        // Handle device orientation changes
        window.addEventListener('orientationchange', function() {
            setTimeout(() => {
                // Recalculate heights after orientation change
                const mobileMain = document.querySelector('.mobile-main');
                mobileMain.style.height = `calc(100vh - 60px - 100px)`;
            }, 100);
        });

        // Simulate network status
        window.addEventListener('online', function() {
            document.querySelector('.mobile-status span').textContent = 'Connected';
            document.querySelector('.mobile-status-dot').style.background = 'linear-gradient(135deg, #00f5ff 0%, #00d4aa 100%)';
        });

        window.addEventListener('offline', function() {
            document.querySelector('.mobile-status span').textContent = 'Offline';
            document.querySelector('.mobile-status-dot').style.background = '#ef4444';
        });
    </script>
</body>
</html>